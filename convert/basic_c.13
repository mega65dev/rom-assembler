xeqdir           jsr xeqcm3                               

newstt           jsr is_stop_key_down                     
                 bbr7 runmod,_local_1012_10               ; branch if direct mode

; In run mode...save txtptr for CONTinue command

                 jsr tto                                  ; transfer txtptr to oldtxt
                 tsx                                      
                 stx oldstk                               

_local_1012_10   ldy #0                                   
                 jsr indtxt                               ; end of the line?
                 +lbne morsts                             ; no...out of statement

_local_1012_20   bit runmod                               ; in direct mode?
                 +lbpl ready                              ; yes, go to ready
                 ldy #2                                   
                 jsr indtxt                               ; end of text?
                 +lbeq ready                              ; yes...finished
                 iny                                      ; y=3
                 jsr indtxt                               ; extract line# lo byte
                 sta curlin                               
                 iny                                      
                 jsr indtxt                               ; extract line # hi byte
                 sta curlin+1                             
                 tya                                      ; y=4
                 clc                                      
                 adc txtptr                               ; point @ character before line start
                 sta txtptr                               
                 bcc _local_1012_30                       
                 inc txtptr+1                             
_local_1012_30   +lbra xeqcm                              ; execute new line



